Consolidate multiple inouts/outs into struct (#6435)
b86925c1929186c122536b9a7ed75131faceddb7
