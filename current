Emit header files for cpp and cuda targets (#3938)
ea460c8dd9d20d1c44e8078cc4138e2fd84d714a
