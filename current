Improved diagnostics prototype (#9503)
7350592524db797878e23bb189f8510ef2356945
