Fix TypeCheckingCache concurrency and candidate lifetime. (#6444)
9e465c776af22ff7a19818b1b135b9e5287aa603
