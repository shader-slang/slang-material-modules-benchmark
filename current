fix a crash when using type equality constaint (#8515)
7740f7905fdebebdbe22011787d432b385f4cd9d
