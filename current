Fix #6544: Properly format nested type names in extensions (#6769)
b78a8ba006fc9253cd1fd88fb7dd1eacfa749dfa
