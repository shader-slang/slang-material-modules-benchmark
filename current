Add a unit test to cover type-conformance compilation API. (#6178)
cd27fbd1d3822f6da4d539ad467b9af2ad159526
